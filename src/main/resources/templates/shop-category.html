<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org/">

<head th:replace="layout :: header_shop">

</head>

<body>
<header th:replace="layout :: menu_shop">

</header>


<section class="breadcrumb breadcrumb_bg">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-8">
        <div class="breadcrumb_iner">
          <div class="breadcrumb_iner_item">
            <h2>Shop Category</h2>
            <p>Home <span>-</span> Shop Category</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="cat_product_area section_padding">
  <div class="container">
    <div class="row">
      <div class="col-lg-3">
        <div class="left_sidebar_area">
          <aside class="left_widgets p_filter_widgets">
            <div class="l_w_title">
              <h3>Browse Categories</h3>
            </div>
            <div class="widgets_inner">
              <ul class="list">
                <li>
                  <a th:href="@{/allproduct}">All </a>
                  <span> (<span th:text="${totalProducts}"> </span>)</span>
                </li>
                <li th:each="category : ${categories}">
                  <a th:href = "@{/products-in-category-{id}(id = ${category.categoryId})}">[[${category.categoryName}]]</a>
                  <span>([[${category.numberOfProduct}]])</span>
                </li>
              </ul>
            </div>
          </aside>

        </div>
      </div>
      <div class="col-lg-9">
        <div class="row">
          <div class="col-lg-12">
            <div class="product_top_bar d-flex justify-content-between align-items-center">
              <div class="single_product_menu">
                <p><span th:text="${totalProducts}"> </span> Product Found in All</p>
              </div>
              <div class="single_product_menu d-flex">
                <div class="input-group">
                  <input type="text" class="form-control" placeholder="search"
                         aria-describedby="inputGroupPrepend">
                  <div class="input-group-prepend">
                                            <span class="input-group-text" id="inputGroupPrepend"><i
                                                    class="ti-search"></i></span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="row align-items-center latest_product_inner">
          <div class="col-lg-4 col-sm-6 " th:each="product : ${products}">
            <form th:action="@{/add-to-cart}" method="post" >
            <div class="single_product_item">
              <a th:href = "@{/product-detail-{id}(id = ${product.id})}">
                <img th:src="*{'data:image/jpeg;base64,' + product.image}">
              </a>
              <div class="single_product_text">
                <h4 th:text="${product.name}"></h4>
                <h3 th:text="'$' + ${product.costPrice}"></h3>
                <a href="#" class="add_cart">
                  <input type="hidden" th:value="${product.id}" name="id">
                  <input type="hidden" value="1" name="quantity">
                  <input type="submit" class="addcart btn btn-outline text-danger text-uppercase font-weight-bold p-0 h1" value="+ add to cart">
                </a>
              </div>
            </div>
            </form>
          </div>

        </div>
      </div>
    </div>
  </div>
</section>


<section class="product_list section_padding">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-12">
        <div class="section_tittle text-center">
          <h2>Best Sellers <span>shop</span></h2>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-12">
        <div class="product_list_slider owl-carousel">
          <div class="single_product_list_slider">
            <div class="row align-items-center justify-content-between">
              <div class="col-lg-3 col-sm-6" th:each="product : ${productRandom}">
                <form th:action="@{/add-to-cart}" method="post" >
                  <div class="single_product_item"   >
                    <a th:href = "@{/product-detail-{id}(id = ${product.id})}">
                      <img th:src="*{'data:image/jpeg;base64,' + product.image}" alt="Image">
                    </a>
                    <div class="single_product_text">
                      <h4 th:text="${product.name}" ></h4>
                      <h3 th:text="'$' + ${product.costPrice}"></h3>
                      <a href="#" class="add_cart">
                        <input type="hidden" th:value="${product.id}" name="id">
                        <input type="hidden" value="1" name="quantity">
                        <input type="submit" class="addcart btn btn-outline text-danger text-uppercase font-weight-bold p-0 h1" value="+ add to cart">
                      </a>

                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
</section>


<footer th:replace="layout :: footer_shop">
</footer>
</body>

<div th:replace="layout :: script_shop"></div>